"use strict";define("Repos/Common",["require","exports","VSS/Core/Util/String","Tfs/Platform/Page","VSS/Platform/Context","VSS/Platform/Fetch","VSS/Platform/Util/Url","VSS/Platform/Feature","VSS/Platform/Location","VSS/Platform/FPS","VSS/Platform/Util/Linking","VSSUI/Utilities/Date"],function(e,t,r,s,o,i,n,a,c,u,l,p){var g,m,d,h,v;g=t.Resources={},Object.defineProperty(t,"__esModule",{value:!0}),t.Resources.BranchNameErrorEmpty="The branch name cannot be empty.",t.Resources.BranchNameErrorInvalidCharacters="A branch name cannot contain '{0}'.",t.Resources.BranchNameErrorInvalidEndCharacters="A branch name cannot end with '{0}'.",t.Resources.BranchNameErrorInvalidStartCharacters="A branch name cannot start with '{0}'.",t.Resources.BranchNameErrorTooLong="The branch name is too long.",t.Resources.BranchVersionDisplayText="Branch {0}",t.Resources.ChangeTypeAdd="add",t.Resources.ChangeTypeBranch="branch",t.Resources.ChangeTypeDelete="delete",t.Resources.ChangeTypeEdit="edit",t.Resources.ChangeTypeFileType="encoding",t.Resources.ChangeTypeLock="lock",t.Resources.ChangeTypeMerge="merge",t.Resources.ChangeTypeNone="none",t.Resources.ChangeTypeProperty="property",t.Resources.ChangeTypeRename="rename",t.Resources.ChangeTypeRollback="rollback",t.Resources.ChangeTypeSourceRename="source rename",t.Resources.ChangeTypeUndelete="undelete",t.Resources.CommitVersionDisplayText="Commit {0}",t.Resources.FileInvalidCharactersFormat="'{0}' is not a valid name. The name cannot contain any of the following characters: \" / : < > \\ * ?",t.Resources.FileInvalidEndCharactersFormat="'{0}' is not a valid name. The name cannot end with a dot (.) or a space.",t.Resources.FileSummaryTotalFile="{0} file change",t.Resources.FileSummaryTotalFiles="{0} file changes",t.Resources.FileSummaryAddedFile="{0} add",t.Resources.FileSummaryAddedFiles="{0} adds",t.Resources.FileSummaryEditedFile="{0} edit",t.Resources.FileSummaryEditedFiles="{0} edits",t.Resources.FileSummaryRenamedFile="{0} rename",t.Resources.FileSummaryRenamedFiles="{0} renames",t.Resources.FileSummaryDeletedFile="{0} delete",t.Resources.FileSummaryDeletedFiles="{0} deletes",t.Resources.TagVersionDisplayText="Tag {0}",t.Resources.TagNameErrorEmpty="Tag name cannot be empty.",t.Resources.TagNameErrorTooLong="Tag name too long.",t.Resources.TagNameErrorExists="The specified tag name already exists.",t.Resources.TagNameErrorInvalidTrailCharacter="A tag name cannot end with '{0}'.",t.Resources.TagNameErrorInvalidLeadCharacter="A tag name cannot start with '{0}'.",t.Resources.TagNameErrorInvalidCharacter="A tag name cannot contain '{0}'.",function(e){m=t.UtilVersion={},Object.defineProperty(t,"__esModule",{value:!0}),t.UtilVersion.getVersionDisplayName=function(e){let t;switch(e.versionType){case 2:t=r.format(g.CommitVersionDisplayText,e.version);break;case 1:t=r.format(g.TagVersionDisplayText,e.version);break;default:t=r.format(g.BranchVersionDisplayText,e.version)}return t},t.UtilVersion.getVersionString=function(e){let t;const r=1===e.versionOptions?"P":"";switch(e.versionType){case 2:t=r+"GC"+e.version;break;case 1:t=r+"GT"+e.version;break;default:t=r+"GB"+e.version}return t},t.UtilVersion.branchToVersionDescriptor=function(e){return{version:e,versionType:0,versionOptions:0}},t.UtilVersion.commitToVersionDescriptor=function(e){return{version:e,versionType:2,versionOptions:0}},t.UtilVersion.getPreviousVersion=function(e){return Object.assign({},e,{versionOptions:1})},t.UtilVersion.tagToVersionDescriptor=function(e){return{version:e,versionType:1,versionOptions:0}},t.UtilVersion.gitVersionStringToVersionDescriptor=function(e){const t={versionOptions:0};let r=e||"";if("P"===r[0]&&(t.versionOptions=1,r=r.substr(1)),!(r.length>=2&&"G"===r[0].toUpperCase()))throw new Error("Unrecognized VersionSpec format.");{const e=r[1].toUpperCase();r=r.substr(2),"B"===e?(t.versionType=0,t.version=r):"C"===e?(t.versionType=2,t.version=r):"T"===e&&(t.versionType=1,t.version=r)}return t}}(),function(e){d=t[e]={},Object.defineProperty(t,"__esModule",{value:!0}),t[e].EMPTY_OBJECT_ID="0000000000000000000000000000000000000000";const s=["~","^",":"," ","?","*","[","\\","/.",".lock/","//","..","@{"],o=["/","."],i=[".lock",".","/"],n=400,a="refs/",c=`${a}heads/`,u=`${a}tags/`;function l(e){return 0===e.versionType?c+e.version:1===e.versionType?u+e.version:""}function p(e){return 0===(e||"").indexOf(c)}function h(e){return 0===(e||"").indexOf(u)}t[e].getInvalidBranchNameMessage=function(e){if(!e)return g.BranchNameErrorEmpty;if(e.length+c.length>n)return g.BranchNameErrorTooLong;for(const t of s)if(e.indexOf(t)>=0)return r.format(g.BranchNameErrorInvalidCharacters,t);for(const t of o)if(e.startsWith(t))return r.format(g.BranchNameErrorInvalidStartCharacters,t);for(const t of i)if(e.endsWith(t))return r.format(g.BranchNameErrorInvalidEndCharacters,t)},t[e].getInvalidTagNameMessage=function(e){if(!e)return g.TagNameErrorEmpty;if(e.length+u.length>n)return g.TagNameErrorTooLong;for(const t of s)if(e.indexOf(t)>=0)return r.format(g.TagNameErrorInvalidCharacter,t);for(const t of o)if(e.startsWith(t))return r.format(g.TagNameErrorInvalidLeadCharacter,t);for(const t of i)if(e.endsWith(t))return r.format(g.TagNameErrorInvalidTrailCharacter,t)},t[e].getShortCommitId=function(e){return e.substring(0,8)},t[e].isEmptyObjectId=function(r){return!r||r===t[e].EMPTY_OBJECT_ID},t[e].refToBranchName=function(e){return(e||"").startsWith(c)?e.substr(c.length):e},t[e].refToTagName=function(e){return(e||"").startsWith(u)?e.substr(u.length):e},t[e].branchNameToRef=function(e){return e.startsWith(c)?`${e}`:`${c}${e}`},t[e].tagNameToRef=function(e){return e.startsWith(u)?`${e}`:`${u}${e}`},t[e].specToRefName=l,t[e].versionStringToRefName=function(e){return e?l(m.gitVersionStringToVersionDescriptor(e)):e},t[e].getFriendlyName=function(e){return p(e)?e.substr(c.length):h(e)?e.substr(u.length):e},t[e].isBranch=p,t[e].isTag=h,t[e].getRefNameFromBranchName=function(e){return c+e},t[e].getRefNameFromTagName=function(e){return u+e},t[e].trimRefs=function(e){return(e||"").startsWith(a)?e.substr(a.length):e}}("UtilRef"),function(e){h=t.VCViewModelDataProviderService={},Object.defineProperty(t,"__esModule",{value:!0});const r="ms.vss-code-web.versioncontrol-viewmodel-data-provider";o.Services.add("IVCViewModelDataProviderService",{serviceFactory:class extends o.VssService{getDefaultGitBranchName(){const e=this.getViewModel();let t=e.defaultGitBranchName;return!t&&e.gitRepository&&e.gitRepository.defaultBranch&&(t=d.refToBranchName(e.gitRepository.defaultBranch)),t}getRepository(){return this.getViewModel().gitRepository}getUserPreferences(){return this.userPreferences||(this.userPreferences=this.getViewModel().vcUserPreferences),this.userPreferences}getViewModel(){const e=this.pageContext.getService("IVssContributionService").getData(r);if(!e)throw new Error(`Data provider data "${r}" not present.`);return e}setUserDefaultBranch(e){this.pageContext.getService("ISettingsService").setEntries({"Git/DefaultUserBranch":e},0,"Repository",this.getRepository().id)}setUserPreferences(e){this.userPreferences=e;const t=this.pageContext.getService("IVssPageService").getData().hostPath||"",r=s.getTFSProject(this.pageContext).id,o=n.combineUrlPaths(encodeURI(t),`${r}/_api/_versioncontrol/updateUserPreferences?__v=5`),a=document.querySelector("input[name=__RequestVerificationToken]"),c=a?a.value:"";return i.issueRequest(o,{method:"POST",body:`preferences=${encodeURIComponent(JSON.stringify(e))}&__RequestVerificationToken=${encodeURIComponent(c)}`,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}supportsGit(){return this.getViewModel().projectVersionControlInfo.supportsGit}supportsTFVC(){return this.getViewModel().projectVersionControlInfo.supportsTFVC}}}),t.VCViewModelDataProviderService.getGitRepository=function(e){return e.getService("IVCViewModelDataProviderService").getRepository()},t.VCViewModelDataProviderService.setUserDefaultVersion=function(e,t){0===t.versionType&&e.getService("IVCViewModelDataProviderService").setUserDefaultBranch(t.version)}}(),function(e){t.Permissions={},Object.defineProperty(t,"__esModule",{value:!0});const r="2e9eb7ed-3c0a-47d4-87c1-0ffdd275fd87",i="repoV2/",n="TFS.VersionControl.PermissionsDataProvider.SecurityToken.",a="AnyCreateBranch",c="ms.vss-code-web.permissions-data-provider";o.Services.add("IReposPermissionsService",{serviceFactory:class extends o.VssService{_serviceStart(e){super._serviceStart(e);const t=e.getService("IVssContributionService");this.permissionData=t.getData(c)||{};const r=s.getTFSPageData(this.pageContext).project;r&&(this.defaultProjectId=r.id);const o=h.getGitRepository(this.pageContext);o&&(this.defaultRepositoryId=o.id),this.asyncCache={}}hasPermission(e,t,r,s){return this.hasPermissionHelper(e,t,r,s)}hasPermissionAsync(e,t,r,s){const o=this.pageContext.getService("IVssContributionService"),i=r||"null";let n=this.asyncCache[i];return n||(n=o.getDataAsync(c,{repositoryId:r}).then(o=>(this.permissionData=Object.assign({},this.permissionData,o),this.hasPermissionHelper(e,t,r,s))),this.asyncCache[i]=n),n}hasPermissionHelper(e,t,s,o,c){let u;void 0===o&&(o=this.defaultProjectId),void 0===s&&(s=this.defaultRepositoryId),t&&0===t.versionType&&(u=(c||this.permissionData)[`${n}/${o}/${s}/refs/heads/${t.version}`]),u||(u=i,o&&(u+=o+"/",s&&(u+=s+"/")));let l=this.pageContext.getService("IVssSecurityService").hasPermission(r,u,e);return 16!==e||t||l||(l=!!this.permissionData[`${n}${o}/${s}/${a}`]),l}}})}(),function(e){t.ProjectRepositoryInformationService={},Object.defineProperty(t,"__esModule",{value:!0});o.Services.add("IProjectRepositoryInformationService",{serviceFactory:class extends o.VssService{getData(){return this.pageContext.getService("IVssContributionService").getData("ms.vss-code-web.navigation-data-provider")}}})}(),function(e){v=t.ReposRoutingService={},Object.defineProperty(t,"__esModule",{value:!0});const r={"ms.vss-code-web.git-repository-overview":"ms.vss-code-web.repository-overview-git-route","ms.vss-code-web.files-hub":"ms.vss-code-web.files-route-git","ms.vss-code-web.branches-hub-new":"ms.vss-code-web.branches-route","ms.vss-code-web.new-tags-hub":"ms.vss-code-web.tags-route","ms.vss-code-web.new-pushes-hub":"ms.vss-code-web.lwp-pushes-route","ms.vss-code-web.commits-hub-new":"ms.vss-code-web.commits-route","ms.vss-code-web.new-prs-hub":"ms.vss-code-web.lwp-prs-route"};const s="IReposRoutingService";t.ReposRoutingService.getReposRoutingService=function(e){return e.getService(s)},o.Services.add(s,{serviceFactory:class extends o.VssService{getBranchCompareUrl(e,t,r,s){const o={};return o.project=t,o["vc.GitRepositoryName"]=e,o._a="commits",o.baseVersion=m.getVersionString(r),o.targetVersion=m.getVersionString(s),c.routeUrl(this.pageContext,"ms.vss-code-web.branch-compare-route",o)}getBranchesUrl(e,t){const r={};return r.project=t,r["vc.GitRepositoryName"]=e,c.routeUrl(this.pageContext,"ms.vss-code-web.branches-route",r)}getBranchPolicyUrl(e,t,r){if(a.isFeatureFlagEnabled(this.pageContext,"WebAccess.VersionControl.NewBranchPoliciesPage",!1)){const s={};return s.project=t,s["vc.GitRepositoryName"]=e,s.refName=r,c.routeUrl(this.pageContext,"ms.vss-code-web.branch-policies-route",s)}{const e=this.pageContext.getService("IVCViewModelDataProviderService").getRepository();if(e){const s=e.id,o={};return o.project=t,o.adminPivot="policies",o.scope=`${s}:${r}`,c.routeUrl(this.pageContext,"ms.vss-admin-web.project-admin-hub-route",o)}return""}}getBranchSecurityUrl(e,t,r){const s={};return s.project=t,s.adminPivot="repositories",s.repositoryId=e,s.branchName=r,c.routeUrl(this.pageContext,"ms.vss-admin-web.project-admin-hub-route",s)}getCommitUrl(e,t,r,s,o,i){const n={};return n.project=t,n["vc.GitRepositoryName"]=e,n.parameters=r,s&&(n.refName=s),o&&(n.path=o,n._a=i||"contents"),c.routeUrl(this.pageContext,"ms.vss-code-web.commit-route",n)}getCommitsUrl(e,t,r){const s={};return s.project=t,s["vc.GitRepositoryName"]=e,r&&(s.itemVersion=m.getVersionString(r)),c.routeUrl(this.pageContext,"ms.vss-code-web.commits-new-route",s)}getFilesBlameUrl(e,t,r,s){return this.getFilesUrlForTab(e,t,r,s,"blame")}getFilesCompareUrl(e,t,r,s,o,i){const n={};return n.project=t,n["vc.GitRepositoryName"]=e,n._a="compare",n.oversion=m.getVersionString(o),n.mversion=m.getVersionString(i),n.version=m.getVersionString(s),n.path=r,c.routeUrl(this.pageContext,"ms.vss-code-web.files-route",n)}getFilesHistoryUrl(e,t,r,s){return this.getFilesUrlForTab(e,t,r,s,"history")}getFilesUrl(e,t,r,s,o){return this.getFilesUrlForTab(e,t,r,s,void 0,o)}getPullRequestCreateUrl(e,t,r,s,o,i){const n=this.pageContext.getService("IVssNavigationService").getRouteValues(),a={};a.project=t||n.project;const u=e||n.GitRepositoryName;return u&&(a["vc.GitRepositoryName"]=u),r&&(a.sourceRef=r),s&&(a.targetRef=s),o&&(a.sourceRepositoryId=o),i&&(a.targetRepositoryId=i),c.routeUrl(this.pageContext,"ms.vss-code-web.pull-request-create-route",a)}getPullRequestUrl(e,t,r){const s={};return s.project=t,s["vc.GitRepositoryName"]=e,s.parameters=r.toString(),c.routeUrl(this.pageContext,"ms.vss-code-web.pull-request-review-route",s)}getPullRequestsUrl(e){const t=this.pageContext.getService("IVssNavigationService").getRouteValues(),r={};return r.project=t.project,e&&(r._a=e),t.GitRepositoryName&&(r["vc.GitRepositoryName"]=t.GitRepositoryName),c.routeUrl(this.pageContext,"ms.vss-code-web.lwp-prs-route",r)}getPushUrl(e,t,r){const s={};return s.project=t,s["vc.GitRepositoryName"]=e,s.parameters=r.toString(),c.routeUrl(this.pageContext,"ms.vss-code-web.new-push-route",s)}getPushesUrl(e,t,r){const s=Object.assign({},r);return s.project=t,s["vc.GitRepositoryName"]=e,c.routeUrl(this.pageContext,"ms.vss-code-web.lwp-pushes-route",s)}getSwitchRepositoryURL(e,t,s){const o={};let i;if(e){const e=this.pageContext.getService("IVssNavigationService").getDisplayedNavigation()[3];i=r[e]||"ms.vss-code-web.files-route-git"}else i="ms.vss-code-web.files-route-tfvc";return t&&(o.project=t),e&&(o["vc.GitRepositoryName"]=e),s&&(o.version=m.getVersionString(s)),c.routeUrl(this.pageContext,i,o)}getFilesUrlForTab(e,t,r,s,o,i){const n={};return n.project=t,n["vc.GitRepositoryName"]=e,o&&(n._a=o),r&&(n.path=r),s&&(n.version=m.getVersionString(s)),i&&(n.anchor=i),c.routeUrl(this.pageContext,"ms.vss-code-web.files-route-git",n)}}})}(),function(e){t.ReposActionService={},Object.defineProperty(t,"__esModule",{value:!0});const r="IReposActionService";function s(e){return e.getService(r)}function i(e,t){s(e).createBranch(t)}o.Services.add(r,{serviceFactory:class extends o.VssService{createBranch(e){this.openVersionDialog("createBranch",e)}createTag(e){this.openVersionDialog("createTag",e)}deleteBranch(e){this.openVersionDialog("deleteBranch",e)}deleteTag(e){this.openVersionDialog("deleteTag",e)}openVersionDialog(e,t){this.pageContext.getService("IVssContributionService").executeCommandEx("ms.vss-code-web.tags-version-dialog-actions-command",{dependencies:["ms.vss-code-web.version-dialogs-content"],serviceName:"IVersionDialogActionsService",methodName:e},t)}}}),t.ReposActionService.createBranch=i,t.ReposActionService.createTag=function(e,t){s(e).createTag(t)},t.ReposActionService.deleteBranch=function(e,t){s(e).deleteBranch(t)},t.ReposActionService.deleteTag=function(e,t){s(e).deleteTag(t)},t.ReposActionService.getDefaultCreateBranchAction=function(e,t,r){return()=>{const s=h.getGitRepository(e);i(e,Object.assign({},t,{onComplete:t=>{const o=e.getService("IReposRoutingService").getFilesUrl(s.name,s.project.name,r,m.branchToVersionDescriptor(d.refToBranchName(t.name)));u.FastPageSwitch(e,o,!0)},repository:s}))}}}(),function(e){t.ReposShortcutsService={},Object.defineProperty(t,"__esModule",{value:!0});o.Services.add("IReposShortcutsService",{serviceFactory:class extends o.VssService{_serviceStart(e){super._serviceStart(e),this.repository=h.getGitRepository(e),this.routingService=v.getReposRoutingService(this.pageContext)}gotoBranches(){const e=this.routingService.getBranchesUrl(this.repository.name,this.repository.project.name);u.FastPageSwitch(this.pageContext,e,!0)}gotoCommits(){const e=this.routingService.getCommitsUrl(this.repository.name,this.repository.project.name);u.FastPageSwitch(this.pageContext,e,!0)}gotoCreatePullRequest(){const e=this.routingService.getPullRequestCreateUrl(this.repository.name,this.repository.project.name);u.FastPageSwitch(this.pageContext,e,!0)}gotoFiles(){const e=this.routingService.getFilesUrl(this.repository.name,this.repository.project.name);u.FastPageSwitch(this.pageContext,e,!0)}gotoPullRequests(){const e=this.routingService.getPullRequestsUrl();u.FastPageSwitch(this.pageContext,e,!0)}}})}(),function(e){t.UtilBuild={},Object.defineProperty(t,"__esModule",{value:!0});const r="VSTFS:",s="/",o="BUILD",i="BUILD",n="ms.vss-build-web.ci-results-hub-route";function a(e,t,n){if(t&&function(e){const t=(e=e.trim().toUpperCase()).split(s,6),[n,,,a,c,u]=t;return n===r&&a===o&&c===i&&!!u}(t)){return u(e,l.decodeUri(t).id,n)}return t}function u(e,t,r){const s={};return r&&(s.project=r),s.buildId=t,c.routeUrl(e,n,s)}t.UtilBuild.processGitStatusArtifactUris=function(e,t,r){if(!r)return[];for(const s of r){let r=void 0;if(s.description&&"["===s.description[0]){const e=s.description.indexOf("]");e>0&&(r=s.description.substring(1,e))}r||(r=t),s.targetUrl=a(e,s.targetUrl,r)}return r},t.UtilBuild.convertArtifactUriToPublicBuildUrl=a,t.UtilBuild.getBuildUrl=u}(),function(e){t.UtilChangeCounts={},Object.defineProperty(t,"__esModule",{value:!0}),t.UtilChangeCounts.getChangeSummaryText=function(e){let t=0,s=0,o=0,i=0;for(const r of e)r.item.isFolder||(0!=(1&r.changeType)?t++:0!=(2&r.changeType)?s++:0!=(16&r.changeType)?i++:0!=(8&r.changeType)&&o++);const n=t+s+o+i,a=r.format(1===n?g.FileSummaryTotalFile:g.FileSummaryTotalFiles,n);if(0===n)return a;const c=[];return t>0&&c.push(r.format(1===t?g.FileSummaryAddedFile:g.FileSummaryAddedFiles,t)),s>0&&c.push(r.format(1===s?g.FileSummaryEditedFile:g.FileSummaryEditedFiles,s)),o>0&&c.push(r.format(1===o?g.FileSummaryRenamedFile:g.FileSummaryRenamedFiles,o)),i>0&&c.push(r.format(1===i?g.FileSummaryDeletedFile:g.FileSummaryDeletedFiles,i)),a+": "+c.join(", ")}}(),function(e){t.UtilChangeType={},Object.defineProperty(t,"__esModule",{value:!0});const r={};function s(e){let t=r[e];if(void 0===t&&e){if(e){const r=[];0!=(128&e)&&r.push(g.ChangeTypeMerge),0!=(1&e)&&r.push(g.ChangeTypeAdd),0!=(64&e)&&r.push(g.ChangeTypeBranch),0!=(16&e)&&r.push(g.ChangeTypeDelete),0!=(4&e)&&0==(64&e)&&0==(1&e)&&r.push(g.ChangeTypeFileType),0!=(256&e)&&r.push(g.ChangeTypeLock),0!=(8&e)&&r.push(g.ChangeTypeRename),0!=(32&e)&&r.push(g.ChangeTypeUndelete),0!=(2&e)&&0==(1&e)&&r.push(g.ChangeTypeEdit),0!=(512&e)&&r.push(g.ChangeTypeRollback),0!=(1024&e)&&r.push(g.ChangeTypeSourceRename),0!=(4096&e)&&r.push(g.ChangeTypeProperty),t=r.join(", ")}else t=g.ChangeTypeNone;r[e]=t}return t}t.UtilChangeType.getChangeTypeDisplayName=s,t.UtilChangeType.getDecorationText=function(e,t){let r="";return r=1==(1&e)&&t?"+":2===e?"":16===e?"":128===e?g.ChangeTypeMerge:64===e?g.ChangeTypeBranch:32===e?g.ChangeTypeUndelete:512===e?g.ChangeTypeRollback:4===e?g.ChangeTypeFileType:s(e)}}(),function(e){t.UtilCommit={},Object.defineProperty(t,"__esModule",{value:!0}),t.UtilCommit.getShortCommitComment=function(e,t=80){if(e){const r=(e=e.trim()).indexOf("\n");r>0&&(e=e.substr(0,r)),e.length>t&&(e=e.substr(0,t-3).trim()+"...")}return e}}(),function(e){function s(e){if(!e)return!1;const t=new Date;return Math.abs(t.getTime()-e.getTime())/36e5<24}t.UtilDate={},Object.defineProperty(t,"__esModule",{value:!0}),t.UtilDate.isInLast24Hours=s,t.UtilDate.getDateStringWithFriendlyText=function(e){if(!e)return;const t=s(e),o=e.toLocaleString();return t?r.format("{0} ({1})",o,p.ago(e)):o},t.UtilDate.convertToEndOfDay=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)},t.UtilDate.convertToUtcEndOfDay=function(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999))},t.UtilDate.convertToUtcStartOfDay=function(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0))},t.UtilDate.applyLocalTimeZoneOffset=function(e){let t=new Date(e);const r=t.getTime(),s=6e4*t.getTimezoneOffset();return new Date(r+s)}}(),function(e){t.UtilEditor={},Object.defineProperty(t,"__esModule",{value:!0}),t.UtilEditor.getGitResourceUri=function(e,t,r){return`inmemory://model/git/${e}/${encodeURIComponent(m.getVersionString(t))}${encodeURI(r)}`}}(),function(e){function s(e){const t=e.lastIndexOf(".");return t>=0?e.substr(t+1):""}t.UtilFile={},Object.defineProperty(t,"__esModule",{value:!0}),t.UtilFile.getFileName=function(e){if(e){const t=e.lastIndexOf("/");return t>=0?e.substr(t+1):e}return""},t.UtilFile.getFileExtension=s,t.UtilFile.getIconNameForFile=function(e){switch(s(e).toLowerCase()){case"aspx":return"FileASPX";case"bat":case"cmd":return"Script";case"c":case"cc":case"h":case"hpp":case"cpp":case"cxx":return"CPlusPlusLanguage";case"coffee":case"litcoffee":return"CoffeeScript";case"cs":return"CSharpLanguage";case"css":return"FileCSS";case"doc":case"docx":return"WordDocument";case"fs":case"fsx":return"FSharpLanguage";case"htm":case"html":return"FileHTML";case"java":return"FileJAVA";case"js":return"JavaScriptLanguage";case"less":return"FileLess";case"md":case"markdown":case"mdown":return"MarkDownLanguage";case"pdb":return"FilePDB";case"ppt":case"pptx":return"PowerPointDocument";case"ps1":case"psm1":return"PowerShell";case"py":return"PythonLanguage";case"sass":return"FileSass";case"sln":return"FileTypeSolution";case"sql":return"FileSQL";case"ts":case"tsx":return"TypeScriptLanguage";case"yml":case"yaml":return"FileYML";default:return"Page"}},t.UtilFile.getParentPath=function(e){let t;const r=n(i(e));if(r){t="/";const e=r.lastIndexOf("/");e>=0&&(t+=r.substr(0,e))}return t};const o=new Set(['"',"/",":","<",">","\\","*","?"]);function i(e){return e&&"/"===e[0]?e.substr(1):e}function n(e){return e&&"/"===e[e.length-1]?e.substr(0,e.length-1):e}t.UtilFile.getInvalidFileNameMessage=function(e){return Array.from(e).some(e=>o.has(e))?r.format(g.FileInvalidCharactersFormat,e):e.endsWith(".")||e.endsWith(" ")?r.format(g.FileInvalidEndCharactersFormat,e):void 0},t.UtilFile.trimLeadingSlash=i,t.UtilFile.trimTrailingSlash=n}(),function(e){t.UtilIdentity={},Object.defineProperty(t,"__esModule",{value:!0}),t.UtilIdentity.getDisplayNameFromIdentity=function(e){if(e.isContainer){let t=e.displayName.lastIndexOf("\\");if(t<0&&(t=e.displayName.lastIndexOf("/")),t>=0&&e.displayName.length>t)return e.displayName.substring(t+1)}return e.displayName}}()},["Resources","Util/Version","Util/Ref","VCViewModelDataProviderService","Permissions","ProjectRepositoryInformationService","ReposRoutingService","ReposActionService","ReposShortcutsService","Util/Build","Util/ChangeCounts","Util/ChangeType","Util/Commit","Util/Date","Util/Editor","Util/File","Util/Identity"]),document.dispatchEvent(new CustomEvent("scriptLoaded",{cancelable:!1,detail:{id:"ms.vss-code-web.repos-common"}}));